<ion-view view-title="Bike Hawaii">

      <ion-content data-tap-disabled="true">

        <div class="view-filter">
          <button ng-click="openModal(1)" class="button button-icon icon ion-gear-a placeholder-icon"></button>
        </div>

        <leaflet lf-center="center" center="center" markers="markers" event-broadcast="events" defaults="defaults" id='map' custom-controls="myCustomControls" geojson = "geojson"></leaflet>
      </ion-content>
        <ion-footer-bar id="footer-bar">
          <div><button ng-click="findCenter()" class="button button-icon icon ion-location"></button></div>
          <div><button ng-click="openModal(2)" class="button button-icon icon ion-android-bicycle"></button></div>
          <div><button ng-click="" class="button button-icon icon ion-image"></button></div>
          <div><button class="button button-icon icon ion-chevron-up"></button></div>
        </ion-footer-bar>
      </ion-content>

<!-- pop-up modal -->

      <script id="filter-modal.html" type="text/ng-template">
        <div class="modal filter-modal">
          <ion-header-bar>
            <h1 class="title">Filters</h1>
          </ion-header-bar>
          <ion-content>

            <div class="list">

            <div class="list">
              <div class="item">Pin Types
                <div class="pinViews">
                  <a class="item item-icon-left" ng-click="setShowStations()" ng-class="{'btn2': showStations, 'btn1': !showStations}">
                  <i class="icon ion-android-bicycle" ng-class="testcolor"></i>
                    Bike Share Stations
                  </a>

                  <a class="item item-icon-left" ng-click="setShowLandmarks()" ng-class="{'btn2': showLandmarks, 'btn1': !showLandmarks}">
                  <i class="icon ion-image"></i>
                    Landmarks
                  </a>

                  <a class="item item-icon-left" ng-click="setShowBikeRacks()" ng-class="{'btn2': showBikeRacks, 'btn1': !showBikeRacks}">
                  <i class="icon ion-chevron-up"></i>
                    Public Bike Racks
                  </a>

              <div class="item">Radius
                <div id="radiusDiv" class="button-bar">
                    <button class="button buttonStyle" ng-click="setRadius(805)" ng-class="{'btn2': radiusHalf, 'btn1': !radiusHalf}">0.5 mi</button>
                    <button class="button buttonStyle" ng-click="setRadius(1610)" ng-class="{'btn2': radiusMile, 'btn1': !radiusMile}">1 mi</button>
                    <button class="button buttonStyle" ng-click="setRadius(3220)" ng-class="{'btn2': radiusTwoMile, 'btn1': !radiusTwoMile}">2 mi</button>
                    <button class="button buttonStyle" ng-click="setRadius(50000)" ng-class="{'btn2': radiusAll, 'btn1': !radiusAll}">All</button>
                </div>
              </div>

            <div>
              <button class="button button-full button-energized" ng-click="setPinsWithinRadius(); closeModal(1)">Done</button>
            </div>

          </ion-content>
        <!-- </div> -->
      </script>

      <script id="bikeShareList.html" type="text/ng-template">
        <div class="modal">
          <ion-header-bar class="bar bar-header">
            <h1 class="title" >Bike Share</h1>
            <button class="button icon ion-arrow-down-b" ng-click="closeModal(2)"></button>
          </ion-header-bar>
            <ion-content>
              <ion-item ng-repeat="item in bikesharePoints" ng-click="getRoutes()">
                <img class="bshLogo" src="https://pbs.twimg.com/profile_images/620747721574514688/IAjDd0oc.jpg">
                <div class="padding">
                  <h2>{{ item.title }}</h2>
                  <p>{{ item.dist }} miles</p>
                </div>
              </ion-item>
            </ion-content>
      </script>

       <script id="markerDetail.html" type="text/ng-template">
        <div class="modal" ng-model="currentMarkerProperties">
          <ion-header-bar class="bar bar-header">
            <h1 class="title">Location Details</h1>
            <button class="button icon ion-arrow-down-b" ng-click="closeModal(3)"></button>
          </ion-header-bar>
            <ion-content>
                <ion-item>
                  <div><p ng-if="currentMarkerProperties.photolink"> <img class="detailsPhoto"ng-src="{{currentMarkerProperties.photolink}}" /> </p></div>
                </ion-item>
                <ion-item>
                  <i ng-click="addFavorite()" ng-class="{'button button-icon icon locationMenu fa fa-star-o fa-fw':!favorited, 'button button-icon icon locationMenu fa fa-star fa-fw btn-danger':favorited}"></i>
                    <h2>Add to Favorites</h2>
                </ion-item>

                <ion-item>
                    <i ng-click="submitVote('Up')" class="button button-icon icon locationMenu fa fa-thumbs-o-up fa-fw"></i>
                  <i ng-click="submitVote('Down')" class="button button-icon icon locationMenu fa fa-thumbs-o-down fa-fw"></i>
                    <h2>Vote on Location</h2>
                    <p>+/- {{currentMarkerProperties.upDownVote}} of {{currentMarkerProperties.votesCounter}}</p>
                </ion-item>
                <ion-item>
                  <i class="button button-icon icon locationMenu fa fa-exclamation-triangle fa-fw"></i>
                    <h2 class="floatingDetail">+1 Safety Incident</h2><p class="floatingDetail">&nbsp;&nbsp;&nbsp;{{currentMarkerProperties.safetyCounter}} Incidents</p>
                </ion-item>
                <div class="locationDetails">
                  <p ng-if="currentMarkerProperties.site_id">Site ID: {{currentMarkerProperties.site_id}} on <span ng-if="currentMarkerProperties.photolink">{{currentMarkerProperties.info}}</span></p>
                  <p ng-if="currentMarkerProperties.description">{{currentMarkerProperties.description}}</p>
                  <p ng-if="currentMarkerProperties.geolink"><a target="_blank" href="{{currentMarkerProperties.geolink}}">Street View</a></p>
                  <!-- <p><a target="_blank" href="{{currentMarkerProperties.sitelink}}">Site</a></p> -->
                </div>
            </ion-content>
      </script>
</ion-view>
