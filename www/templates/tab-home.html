
<ion-view data-ng-init="init()" title="{{navTitle}}" left-buttons="leftButtons" right-buttons="rightButtons" hide-back-button="true" class="bubble-background title-style">

<!-- <ion-nav-bar class="mapSiteTopBar"> -->
  <ion-header-bar class="bar bar-header">
    <a ng-href="#" ng-click="myGoBack()"><i class="ion-ios-arrow-thin-left backArrow"></i></a>

    <a ng-href="#/tab/leave-comments" class="button fdbckBtn waves-effect" nav-transition="none">
      <span>Leave Feedback</span>
    </a>
    <div class="button suggestBtn waves-effect" ng-click="createReportPoint()"><span>Suggest a Station</span></div>
    <a href="#/tab/survey"><i class="ion-clipboard button surveyBtn waves-effect" nav-transition="none"></i></a>
  </ion-header-bar>
<!-- </ion-nav-bar> -->

  <ion-content class="fade-on-enter">
   <!--  <div class="getLocationMarker" ng-click="findCenter()">
      <img src="../img/bike-assets/sMarkerIcon.png" alt="">
    </div>
    <div ng-click="findCenter()">
    </div> -->

      <leaflet data-tap-disabled="true" layers="layers" lf-center="center" center="center" paths="paths" markers="markers" event-broadcast="events" defaults="defaults" id='map' custom-controls="myCustomControls" geojson="geojson"></leaflet>


    <div class="centerBox">
      <div id="footer-bar" class="row" ng-show="showReportControl">

        <div class="row directions_wrapper">
            <div class="col">
              <img src=".././img/bike-assets/numOne.png" alt="">
              <p>Drag marker.</p>
            </div>

            <div class="col">
              <img src=".././img/bike-assets/num2.png" alt="">
              <p>Place bike icon where you'd like to see a station.</p>
            </div>

            <div class="col">
              <img src=".././img/bike-assets/num3.png" alt="">
              <p>Click 'Create Point' or 'Cancel'.</p>
            </div>

        <div class="col bothSuggestBtns hide-on-small-only">

          <div class="eachSuggestbtn valign-wrapper" ng-click="cancelReportPoint()" style="margin-bottom: 4px">
            <span>Cancel</span>
          </div>

          <a ng-href="#/tab/mahalo" class="eachSuggestbtn valign-wrapper" ng-click="suggestStation();cancelReportPoint()" class="suggestButtonsDiv" nav-transition="none">
            <span>Create Point</span>
          </a>

        </div>
        </div>

        <div class="row bothSuggestBtns hide-on-med-and-up">
          <div class="eachSuggestbtn valign-wrapper" ng-click="cancelReportPoint()" style="margin-bottom: 4px">
            <span>Cancel</span>
          </div>

          <a ng-href="#/tab/mahalo" class="eachSuggestbtn valign-wrapper" ng-click="suggestStation();cancelReportPoint()" class="suggestButtonsDiv" nav-transition="none">
            <span>Create Point</span>
          </a>
        </div>

      </div>
    </div>


    <script id="templates/markerDetail.html" type="text/ng-template">
      <ion-view>
      <!-- <div class="modal"> -->
        <ion-header-bar class="titleDetailBar" ng-click="closeModal(4);">
          <p class="d_title" >{{stationClicked.name}}</p>
          <i class="ion-ios-arrow-down right"></i>
        </ion-header-bar>

          <ion-content  class="detailModalBlock">
              <div class="d_image center">
                <img class="stationPhoto" ng-src="{{stationClicked.photolink}}" alt="">
              </div>

              <div class="d_title streetLikesLocation">
              </br>
                <span>Location</span>
                <div class="likes right valign-wrapper" ng-click="isLiked() ? userUnliked():userLiked()">
                  <i class="ion-ios-heart" ng-style="myStyle">{{ numberOfLikes }}<p>&nbsp&nbspLikes</p></i>
                </div>

                <div class="d_location">{{stationClicked.street}}</div>
              </div>
              </br>

              <div class="d_title"><span>Ride time to:</span></div>

              <div class="row">
                <div class="d_location col">Downtown: {{rideTime('downtown')}} min.</div>
                <div class="d_location col">Kaka'ako: {{rideTime('kakaako')}} min.</div>
                <div class="d_location col">Ala Moana: {{rideTime('alamoana')}} min.</div>
              </div>

              <div class="row">
                <div class="d_location col">University: {{rideTime('university')}} min.</div>
                <div class="d_location col">Waikiki: {{rideTime('waikiki')}} min.</div>
                <div class="d_location col">Diamond Head: {{rideTime('diamondhead')}} min.</div>
              </div>
              </br>

              <div class="d_title">
                <span>What's near this station</span>
              </div>

              <div ng-repeat= 'item in closestBBB' style="margin-top: 13px;">

                <div class="eachBusinessBlockContent">
                  <div class="imageOfBusiness valign-wrapper">
                    <img class="fixedImageSize" ng-if="closestBBB" ng-src={{item.image}} alt="">
                  </div>

                  <div class="titleAddDescription">
                    <div class="title_address">
                      <h5>{{item.name}}</h5>
                      <div>{{item.address}}</div>
                    </div>

                    <div class="businessDescription">{{item.description}}</div>
                  </div>


                  <div class="bbbImageLogo">
                    <img src="http://boyerlawfirmblog.com/wp-content/uploads/2011/08/bbb1.jpg" alt=""/>
                  </div>
                </div>

              <div class="divider" style="margin-top: 13px;"></div>
              </div> <!-- END OF NGREPEAT -->


        </ion-content><!-- <ion-content  class="detailModalBlock"> -->
      <!-- </div> -->
      </ion-view>
    </script>



  </ion-content>
</ion-view>